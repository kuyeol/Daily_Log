#sevendatabase

### Aggregate Functions
|     |                                                                          |
| --- | ------------------------------------------------------------------------ |
| ​   | **INSERT****​ ​INTO****​ ​events**​ (제목, **​시작** ​, **​종료** ​, venue_id) |
| ​   | **값** ​ (_​ '모비'_ ​, _​'2018-02-06 21:00'_ ​, _​'2018-02-06 23:00'_ ​, ( |
| ​   | **SELECT** ​ venue_id                                                    |
| ​   | 장소 **​에서**                                                               |
| ​   | **WHERE** **​ ​name**​ = _​'Crystal Ballroom_ '                          |
| ​   | )                                                                        |
| ​   | );                                                                       |
### 저장 프로시저

모든 것을 기본적으로 제공하지 않고, 우리는 갭을 채우기 위해 코드를 실행해야 합니다. 하지만 그 시점에서 코드를 어디에서 실행할지 결정해야 합니다. Postgres 에서 실행해야 할까요 , 아니면 애플리케이션 측에서 실행해야 할까요?

> [!CUATION]
> 
관계형 데이터베이스가 전성기를 맞았을 때, 그것은 기술의 스위스 군용 칼이었습니다. 거의 모든 것을 저장할 수 있었습니다. 심지어 전체 프로젝트를 프로그래밍하는 것까지 할 수 있었습니다(예: Microsoft Access). 이 소프트웨어를 제공한 소수의 회사는 독점적 차이점 사용을 장려한 다음 엄청난 라이선스 및 컨설팅 수수료를 청구하여 이러한 기업 의존성을 이용했습니다. 이것은 1990년대와 2000년대 초에 새로운 프로그래밍 방법론이 완화하려고 시도했던 두려운 공급업체 잠금 이었습니다.

#### SQL 표준 문자열 일치

PostgreSQL에는 텍스트 일치를 수행하는 여러 가지 방법이 있지만 두 가지 주요 기본 방법은 LIKE 와 정규 표현식입니다.
`LIKE` 와 `ILIKE`는 가장 간단한 형태의 텍스트 검색입니다( ILIKE는 LIKE 의 대소문자 구분 없는 버전입니다 ).
LIKE는 주어진 패턴 문자열과 열 값을 비교합니다. 
`%` 와 `_` 문자는 와일드카드입니다. 
`%`는 임의의 수의 모든 문자와 일치하고 `_`는 정확히 하나의 문자와 일치합니다.

| **SELECT**​ title **​FROM**​ movies **​WHERE**​ title ILIKE _​'stardust_%_' ​; |
| ------------------------------------------------------------------------------ |
| **SELECT**​ title **​FROM**​ movies **​WHERE**​ title ILIKE _​'stardust%'_ ​;  |
|                                                                                |

Postgres는 (대부분) POSIX 스타일을 따릅니다.
Postgres에서 정규 표현식 매치는 ~ 연산자로 시작하며, 옵션 ! ( 일치 하지 않음을 의미 )와 * ( 대소문자 구분 없음을 의미)가 있습니다. 로 시작 하지 않는 모든 영화를 세려면 다음 대소문자 구분 없는 쿼리가 작동합니다. 문자열 내부의 문자는 정규 표현식입니다.
### PostgreSQL의 약점

관계형 데이터베이스는 지난 몇 년 동안 가장 성공적인 데이터베이스 스타일임이 틀림없지만, 관계형 데이터베이스가 적합하지 않은 경우도 있습니다.

- 매우 많은 양의 읽기와 쓰기가 키 값으로 필요합니다
- 대용량 BLOB 데이터만 저장하면 됩니다.
#### PostgreSQL Summary

- 쿼리 유연성을 위해 훌륭한 선택입니다.
- 인덱싱을 잘 하면 매우 적은 리소스 소비로 여러 테라바이트의 데이터에 대해 놀라울 정도로 잘 작동합니다
- 데이터 보안이 가장 중요한 사람들을 위해 PostgreSQL의 ACID 호환 트랜잭션은 커밋이 완전히 원자적이고, 일관되고, 격리되고, 내구성이 있도록 보장합니다.

# END


